# =============================================================================
# RPOS - PRODUCTION ENVIRONMENT CONFIGURATION
# =============================================================================
# IMPORTANT: Copy this file to .env.production and fill in secure values
# NEVER commit .env.production to version control
# =============================================================================

# -----------------------------------------------------------------------------
# APPLICATION
# -----------------------------------------------------------------------------
NODE_ENV=production
PORT=3000

# -----------------------------------------------------------------------------
# POSTGRESQL DATABASE
# -----------------------------------------------------------------------------
# SECURITY: Use strong, unique passwords!
POSTGRES_USER=pos_user
POSTGRES_PASSWORD=GENERATE_STRONG_PASSWORD_HERE
POSTGRES_DB=pos_db

# Database URL (used by application)
DATABASE_URL=postgresql://pos_user:GENERATE_STRONG_PASSWORD_HERE@postgres:5432/pos_db

# Connection Pool Settings
DB_POOL_MAX=20
DB_POOL_MIN=5
DB_IDLE_TIMEOUT=30000

# -----------------------------------------------------------------------------
# MONGODB (Logging & Audit)
# -----------------------------------------------------------------------------
MONGODB_URL=mongodb://mongo:27017/pos_logs
MONGO_POOL_SIZE=10

# -----------------------------------------------------------------------------
# REDIS (Cache & Queue)
# -----------------------------------------------------------------------------
REDIS_HOST=redis
REDIS_PORT=6379
# REDIS_PASSWORD=your_redis_password  # Enable in production

# -----------------------------------------------------------------------------
# QUEUE PROVIDER
# -----------------------------------------------------------------------------
QUEUE_PROVIDER=bullmq

# -----------------------------------------------------------------------------
# JWT AUTHENTICATION
# -----------------------------------------------------------------------------
# CRITICAL: Generate secure secrets!
# Use: openssl rand -base64 64
JWT_SECRET=GENERATE_64_CHAR_RANDOM_SECRET_HERE
JWT_EXPIRES_IN=7d
DEFAULT_SOCIAL_PASSWORD=GENERATE_ANOTHER_RANDOM_SECRET

# -----------------------------------------------------------------------------
# EMAIL CONFIGURATION (SMTP)
# -----------------------------------------------------------------------------
SMTP_HOST=smtp.your-provider.com
SMTP_PORT=587
SMTP_SECURE=true
SMTP_USER=your-email@domain.com
SMTP_PASS=your-smtp-password
SMTP_FROM=noreply@yourpos.com

# -----------------------------------------------------------------------------
# SECURITY
# -----------------------------------------------------------------------------
# Rate Limiting
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW_MS=15

# CORS (set to your production frontend domain)
CORS_ORIGIN=https://your-frontend-domain.com
CORS_CREDENTIALS=true

# Cookies
COOKIE_SECURE=true
COOKIE_SAME_SITE=strict

# -----------------------------------------------------------------------------
# LOGGING
# -----------------------------------------------------------------------------
LOG_LEVEL=warn
LOG_FILE_ERROR=logs/error.log
LOG_FILE_COMBINED=logs/combined.log

# -----------------------------------------------------------------------------
# FILE UPLOAD
# -----------------------------------------------------------------------------
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,image/webp,application/pdf

# -----------------------------------------------------------------------------
# BUSINESS DEFAULTS
# -----------------------------------------------------------------------------
DEFAULT_CURRENCY=USD
DEFAULT_LANGUAGE=en
DEFAULT_TAX_RATE=0

# =============================================================================
# PRODUCTION CHECKLIST
# =============================================================================
# [ ] All passwords are strong and unique
# [ ] JWT_SECRET is at least 64 characters
# [ ] CORS_ORIGIN points to your actual frontend domain
# [ ] SMTP credentials are configured
# [ ] COOKIE_SECURE=true (requires HTTPS)
# [ ] COOKIE_SAME_SITE=strict
# [ ] Database backups are scheduled
# [ ] SSL/TLS certificates are configured
# [ ] Monitoring and alerting is set up
# =============================================================================
