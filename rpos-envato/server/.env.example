# =============================================================================
# POS SYSTEM - ENVIRONMENT CONFIGURATION
# =============================================================================
# IMPORTANT: Copy this file to .env and fill in your actual values
# Never commit .env file to version control
# =============================================================================

# -----------------------------------------------------------------------------
# APPLICATION
# -----------------------------------------------------------------------------
NODE_ENV=development
PORT=3000

# -----------------------------------------------------------------------------
# POSTGRESQL DATABASE (Primary Data Store)
# -----------------------------------------------------------------------------
# Format: postgresql://username:password@host:port/database
# SECURITY: Use strong passwords in production!
DATABASE_URL=postgresql://pos_user:CHANGE_THIS_PASSWORD@localhost:5432/pos_db

# PostgreSQL Credentials (for Docker Compose)
POSTGRES_USER=pos_user
POSTGRES_PASSWORD=CHANGE_THIS_PASSWORD
POSTGRES_DB=pos_db

# Database Connection Pool Settings
DB_POOL_MAX=10
DB_POOL_MIN=2
DB_IDLE_TIMEOUT=30000

# -----------------------------------------------------------------------------
# MONGODB (Logging & Audit Trail)
# -----------------------------------------------------------------------------
# SECURITY: Enable authentication in production!
MONGODB_URL=mongodb://localhost:27017/pos_logs

# MongoDB Connection Pool Settings
MONGO_POOL_SIZE=10
MONGO_POOL_MIN=2
MONGO_SOCKET_TIMEOUT=45000

# -----------------------------------------------------------------------------
# REDIS (Cache & Queue)
# -----------------------------------------------------------------------------
REDIS_HOST=localhost
REDIS_PORT=6379
# REDIS_PASSWORD=           # Uncomment and set for production

# -----------------------------------------------------------------------------
# QUEUE PROVIDER
# -----------------------------------------------------------------------------
# Options: bullmq (Redis-based) or sqs (AWS SQS)
QUEUE_PROVIDER=bullmq

# -----------------------------------------------------------------------------
# JWT AUTHENTICATION
# -----------------------------------------------------------------------------
# CRITICAL SECURITY: Generate a strong random secret!
# Use: openssl rand -base64 64
JWT_SECRET=GENERATE_A_STRONG_RANDOM_SECRET_HERE_MIN_32_CHARS
JWT_EXPIRES_IN=7d

# Default password for OAuth/social login users (who don't have password)
# SECURITY: Use a strong random password!
DEFAULT_SOCIAL_PASSWORD=GENERATE_ANOTHER_STRONG_RANDOM_SECRET

# -----------------------------------------------------------------------------
# FIREBASE STORAGE (Optional - for cloud file storage)
# -----------------------------------------------------------------------------
FIREBASE_STORAGE_BUCKET=
# FIREBASE_PROJECT_ID=
# FIREBASE_CLIENT_EMAIL=
# FIREBASE_PRIVATE_KEY=

# -----------------------------------------------------------------------------
# EMAIL CONFIGURATION (SMTP)
# -----------------------------------------------------------------------------
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=
SMTP_PASS=
SMTP_FROM=noreply@yourpos.com

# -----------------------------------------------------------------------------
# AWS CONFIGURATION (Optional - for production with SQS queue)
# -----------------------------------------------------------------------------
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_SQS_QUEUE_URL=

# -----------------------------------------------------------------------------
# PGADMIN (Database Management Tool - Development Only)
# -----------------------------------------------------------------------------
PGADMIN_EMAIL=admin@pos.com
PGADMIN_PASSWORD=CHANGE_THIS_ADMIN_PASSWORD

# -----------------------------------------------------------------------------
# RATE LIMITING
# -----------------------------------------------------------------------------
# Maximum requests per window
RATE_LIMIT_MAX=100
# Time window in minutes
RATE_LIMIT_WINDOW_MS=15

# -----------------------------------------------------------------------------
# CORS CONFIGURATION
# -----------------------------------------------------------------------------
# Comma-separated list of allowed origins
CORS_ORIGIN=http://localhost:3000,http://localhost:19006
# Set to 'true' to allow credentials
CORS_CREDENTIALS=true

# -----------------------------------------------------------------------------
# LOGGING
# -----------------------------------------------------------------------------
# Levels: error, warn, info, http, debug
LOG_LEVEL=info
# Log file paths
LOG_FILE_ERROR=logs/error.log
LOG_FILE_COMBINED=logs/combined.log

# -----------------------------------------------------------------------------
# FILE UPLOAD
# -----------------------------------------------------------------------------
# Maximum file size in bytes (10MB default)
MAX_FILE_SIZE=10485760
# Allowed file types (comma-separated)
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,image/webp,application/pdf

# -----------------------------------------------------------------------------
# BUSINESS LOGIC
# -----------------------------------------------------------------------------
# Default currency code
DEFAULT_CURRENCY=USD
# Default language
DEFAULT_LANGUAGE=en
# Tax rate (percentage)
DEFAULT_TAX_RATE=0

# -----------------------------------------------------------------------------
# SECURITY HEADERS
# -----------------------------------------------------------------------------
# Enable HTTPS only cookies in production
COOKIE_SECURE=false
# Set to 'strict' or 'lax' in production
COOKIE_SAME_SITE=lax

# =============================================================================
# PRODUCTION DEPLOYMENT CHECKLIST
# =============================================================================
# [ ] Change all passwords and secrets to strong random values
# [ ] Set NODE_ENV=production
# [ ] Enable HTTPS and set COOKIE_SECURE=true
# [ ] Configure CORS_ORIGIN to your actual frontend domain
# [ ] Set up proper database backups
# [ ] Enable Redis password protection
# [ ] Configure MongoDB authentication
# [ ] Set up SSL/TLS for database connections
# [ ] Review and adjust rate limiting settings
# [ ] Set up monitoring and alerting
# [ ] Configure log rotation
# =============================================================================
